"use strict";!function(e,t){function a(e){return e&&e.__esModule?e:{default:e}}var r=e.exports={};Object.defineProperty(r,"__esModule",{value:!0});var n=t("../../npm/babel-runtime/regenerator/index.js"),s=a(n),u=t("../../npm/babel-runtime/helpers/asyncToGenerator.js"),i=a(u),l=t("../../npm/babel-runtime/core-js/object/get-prototype-of.js"),o=a(l),d=t("../../npm/babel-runtime/helpers/classCallCheck.js"),c=a(d),p=t("../../npm/babel-runtime/helpers/createClass.js"),f=a(p),h=t("../../npm/babel-runtime/helpers/possibleConstructorReturn.js"),m=a(h),b=t("../../npm/babel-runtime/helpers/inherits.js"),x=a(b),v=t("../../npm/labrador/index.js"),y=a(v),j=function(e){function t(){var e,a,r,n;(0,c.default)(this,t);for(var s=arguments.length,u=Array(s),i=0;i<s;i++)u[i]=arguments[i];return a=r=(0,m.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(u))),r.data={qid:"",cid:"",textareaVal:"",disabled:!1,url:""},n=a,(0,m.default)(r,n)}return(0,x.default)(t,e),(0,f.default)(t,[{key:"bindTextAreaBlur",value:function(e){""==e.detail.value?this.setData({disabled:!0,textareaVal:""}):this.setData({disabled:!1,textareaVal:e.detail.value})}},{key:"bindTextAreaFocus",value:function(e){""!=e.detail.value&&this.setData({disabled:!1})}},{key:"submit",value:function(){function e(){return t.apply(this,arguments)}var t=(0,i.default)(s.default.mark(function e(){var t,a;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.postdata.content=this.data.textareaVal,e.next=3,y.default.app.ajax({url:this.url,data:this.postdata,type:"post"});case 3:if(t=e.sent,0!=t.status){e.next=7;break}return e.next=7,y.default.navigateBack();case 7:if(1!=t.status){e.next=12;break}return e.next=10,y.default.showModal({title:"提示",content:"需要先登录"});case 10:a=e.sent,a.confirm&&y.default.redirectTo({url:"/pages/account/account"});case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"onLoad",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,i.default)(s.default.mark(function e(t){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.data.cid=t.qid,this.data.rid=t.rid,t.qaCommentId&&(this.postdata={qaCommentId:t.qaCommentId},this.url="https://xcx.chinamuxie.com/wxapi/healthserv/qacomment/reply"),t.qaId&&(this.postdata={qaId:t.qaId},this.url="https://xcx.chinamuxie.com/wxapi/healthserv/qacomment/add"),console.log(t);case 5:case"end":return e.stop()}},e,this)}));return e}()}]),t}(y.default.Component);Page(v._createPage(j))}(module,require);