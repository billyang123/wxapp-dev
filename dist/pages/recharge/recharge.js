"use strict";!function(t,e){function a(t){return t&&t.__esModule?t:{default:t}}var n=t.exports={};window=e("../../npm/labrador/global.js");Object.defineProperty(n,"__esModule",{value:!0});var u=e("../../npm/babel-runtime/regenerator/index.js"),r=a(u),s=e("../../npm/babel-runtime/helpers/asyncToGenerator.js"),l=a(s),o=e("../../npm/babel-runtime/core-js/object/get-prototype-of.js"),i=a(o),p=e("../../npm/babel-runtime/helpers/classCallCheck.js"),c=a(p),d=e("../../npm/babel-runtime/helpers/createClass.js"),m=a(d),h=e("../../npm/babel-runtime/helpers/possibleConstructorReturn.js"),f=a(h),b=e("../../npm/babel-runtime/helpers/inherits.js"),y=a(b),j=e("../../npm/labrador/index.js"),N=a(j),v=e("../../components/alert/alert.js"),g=a(v),x=function(t){function e(){var t,a,n,u;(0,c.default)(this,e);for(var r=arguments.length,s=Array(r),l=0;l<r;l++)s[l]=arguments[l];return a=n=(0,f.default)(this,(t=e.__proto__||(0,i.default)(e)).call.apply(t,[this].concat(s))),n.data={tabNum:9,inputNum:0,assetsPath:N.default.app.data.assetsPath,yuNum:"",name:"",pname:"",inputValue:""},n.children={alert:new g.default({msg:"@msg"})},u=a,(0,f.default)(n,u)}return(0,y.default)(e,t),(0,m.default)(e,[{key:"handlefocus",value:function(t){this.setData({tabNum:0})}},{key:"chashMoney",value:function(){function t(t){return e.apply(this,arguments)}var e=(0,l.default)(r.default.mark(function t(e){var a,n,u;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.totalNum=parseInt(this.data.tabNum,10)+parseInt(this.data.inputNum||0,10),this.totalNum&&!(this.totalNum<9)){t.next=3;break}return t.abrupt("return",this.children.alert.show("充值金额需9元或9元以上的整数"));case 3:return a=N.default.app.data.ajaxPath+"/wxapi/project/account/recharge",t.next=6,N.default.request({url:a,header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",data:{projectAccountId:this.projectAccountId,rechargeAmount:this.totalNum,code:N.default.app.globalData.storage.code}});case 6:if(n=t.sent,0!=n.data.status){t.next=13;break}return t.next=10,N.default.requestPayment(n.data.data);case 10:return u=t.sent,t.next=13,N.default.redirectTo({url:"/pages/paySuccess/paySuccess"});case 13:case"end":return t.stop()}},t,this)}));return t}()},{key:"bindinput",value:function(t){""!=t.detail.value?this.setData({tabNum:0}):this.setData({inputNum:0}),this.setData({inputNum:t.detail.value})}},{key:"moneyTab",value:function(t){var e=t.currentTarget.dataset.num;this.setData({tabNum:1*e,inputNum:0,inputValue:""})}},{key:"onLoad",value:function(t){this.totalNum=0,this.setData({yuNum:t["amp;num"],name:t["amp;name"],pname:t["amp;pname"]}),this.projectAccountId=t.pid}}]),e}(N.default.Component);Page(j._createPage(x))}(module,require);