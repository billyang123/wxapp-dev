"use strict";!function(e,t){function a(e){return e&&e.__esModule?e:{default:e}}var n=e.exports={};window=t("../../npm/labrador/global.js");Object.defineProperty(n,"__esModule",{value:!0});var u=t("../../npm/babel-runtime/regenerator/index.js"),r=a(u),s=t("../../npm/babel-runtime/helpers/asyncToGenerator.js"),l=a(s),o=t("../../npm/babel-runtime/core-js/object/get-prototype-of.js"),i=a(o),c=t("../../npm/babel-runtime/helpers/classCallCheck.js"),p=a(c),d=t("../../npm/babel-runtime/helpers/createClass.js"),m=a(d),h=t("../../npm/babel-runtime/helpers/possibleConstructorReturn.js"),f=a(h),b=t("../../npm/babel-runtime/helpers/inherits.js"),y=a(b),j=t("../../npm/labrador/index.js"),v=a(j),N=t("../../components/alert/alert.js"),g=a(N),x=function(e){function t(){var e,a,n,u;(0,p.default)(this,t);for(var r=arguments.length,s=Array(r),l=0;l<r;l++)s[l]=arguments[l];return a=n=(0,f.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(s))),n.data={tabNum:9,inputNum:0,assetsPath:v.default.app.data.assetsPath,yuNum:"",name:"",pname:"",inputValue:""},n.children={alert:new g.default({msg:"@msg"})},u=a,(0,f.default)(n,u)}return(0,y.default)(t,e),(0,m.default)(t,[{key:"handlefocus",value:function(e){this.setData({tabNum:0})}},{key:"chashMoney",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(r.default.mark(function e(t){var a,n,u;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.totalNum=1*this.data.tabNum+1*(this.data.inputNum||0),!(this.totalNum<=0)){e.next=3;break}return e.abrupt("return",this.children.alert.show("充值金额需0元以上"));case 3:return a=v.default.app.data.ajaxPath+"/wxapi/project/account/recharge",e.next=6,v.default.request({url:a,header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",data:{projectAccountId:this.projectAccountId,rechargeAmount:this.totalNum,code:v.default.app.globalData.storage.code}});case 6:if(n=e.sent,0!=n.data.status){e.next=13;break}return e.next=10,v.default.requestPayment(n.data.data);case 10:return u=e.sent,e.next=13,v.default.redirectTo({url:"/pages/paySuccess/paySuccess"});case 13:case"end":return e.stop()}},e,this)}));return e}()},{key:"bindinput",value:function(e){""!=e.detail.value?this.setData({tabNum:0}):this.setData({inputNum:0}),this.setData({inputNum:e.detail.value})}},{key:"moneyTab",value:function(e){var t=e.currentTarget.dataset.num;this.setData({tabNum:1*t,inputNum:0,inputValue:""})}},{key:"onLoad",value:function(e){this.totalNum=0,this.setData({yuNum:e["amp;num"],name:e["amp;name"],pname:e["amp;pname"]}),this.projectAccountId=e.pid}}]),t}(v.default.Component);Page(j._createPage(x))}(module,require);