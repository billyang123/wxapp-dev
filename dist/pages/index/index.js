"use strict";!function(e,t){function a(e){return e&&e.__esModule?e:{default:e}}var n=e.exports={};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../npm/babel-runtime/regenerator/index.js"),u=a(r),s=t("../../npm/babel-runtime/helpers/asyncToGenerator.js"),l=a(s),o=t("../../npm/babel-runtime/core-js/object/get-prototype-of.js"),i=a(o),c=t("../../npm/babel-runtime/helpers/classCallCheck.js"),p=a(c),d=t("../../npm/babel-runtime/helpers/createClass.js"),f=a(d),h=t("../../npm/babel-runtime/helpers/possibleConstructorReturn.js"),m=a(h),b=t("../../npm/babel-runtime/helpers/inherits.js"),g=a(b),v=t("../../npm/labrador/index.js"),k=a(v),x=t("../../components/navbar/navbar.js"),j=a(x),y=function(e){function t(){var e,a,n,r;(0,p.default)(this,t);for(var u=arguments.length,s=Array(u),l=0;l<u;l++)s[l]=arguments[l];return a=n=(0,m.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(s))),n.data={banner:{img:"/images/banner_01_750x250.png",href:"/pages/bannerIndex/bannerIndex"},mImgArr:{},assetsPath:k.default.app.data.assetsPath},n.children={navbar:new j.default({cur:0})},r=a,(0,m.default)(n,r)}return(0,g.default)(t,e),(0,f.default)(t,[{key:"onLoad",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(u.default.mark(function e(){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.getIndexProject();case 1:case"end":return e.stop()}},e,this)}));return e}()},{key:"getIndexProject",value:function(){function e(){return t.apply(this,arguments)}var t=(0,l.default)(u.default.mark(function e(){var t,a,n,r,s;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.default.app.ajax({url:k.default.app.data.ajaxPath+"/wxapi/project/getIndexProject"});case 2:t=e.sent,a=t.data,n={},r=0;case 6:if(!(r<a.length)){e.next=14;break}if(n[a[r].id]=a[r],a[r].headImg){e.next=10;break}return e.abrupt("continue",11);case 10:for(s=0;s<a[r].headImg.length;s++)a[r].headImg[s]=k.default.app.setHttpsUrl(a[r].headImg[s]);case 11:r++,e.next=6;break;case 14:this.setData({mImgArr:n});case 15:case"end":return e.stop()}},e,this)}));return e}()},{key:"onShow",value:function(){k.default.app.stopAudio()}},{key:"makePhoneCall",value:function(e){k.default.showModal({title:"拨打电话："+e.currentTarget.dataset.phoneNumber,success:function(t){k.default.makePhoneCall({phoneNumber:e.currentTarget.dataset.phoneNumber})}})}},{key:"onShow",value:function(){k.default.app.stopAudio()}},{key:"linkTo",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,l.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isLink){e.next=2;break}return e.abrupt("return");case 2:return this.isLink=!0,e.next=5,k.default.navigateTo({url:t.currentTarget.dataset.link});case 5:this.isLink=!1;case 6:case"end":return e.stop()}},e,this)}));return e}()}]),t}(k.default.Component);Page(v._createPage(y))}(module,require);